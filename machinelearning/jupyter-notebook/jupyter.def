Bootstrap: library
From: ubuntu:22.04

%environment
  JUP_PORT=8888
  JUP_IPNAME=0.0.0.0
  export JUP_PORT JUP_IPNAME
%post
  apt update
  apt install -y python3-pip
  pip install notebook

%startscript
  PORT=""
  if [ -n "$JUP_PORT" ]; then
     PORT="--port=${JUP_PORT}"
  fi
  
  IPNAME=""
  if [ -n "$JUP_IPNAME" ]; then
    IPNAME="--ip=${JUP_IPNAME}"
  fi

  exec jupyter notebook ${PORT} ${IPNAME}
